<html>
<head>
    <link rel="stylesheet" href="css.css">
<style>
</style>
</head>
<body>
<h2 align=center >T3A18 Canvas by Caleb</h2>
 <br><br>

<div id="thickness1">...</div>  <input type="range" max="10" min="1" id="thickness" value="1" onchange="thick = document.getElementById('thickness').value; document.getElementById('thickness1').innerHTML = 'Thickness: ' + thick">
<input type="button" id="restart" onclick="x1 = undefined; y1 = undefined; x2 = undefined; y2 = undefined" value="start new line">
<input type="button" id="clear" value="clear the board" onclick=" myContext.clearRect(0, 0, myCanvas.width, myCanvas.height); document.getElementById('restart').click()">
<br><br>

<div id="coords">...</div>
<canvas id="canvas" width="1000" height="600" style="border:1px solid #000000; background-color: rgb(230, 230, 230)" onclick="line(event)"></canvas>

<script>
   // set up global variables
   let myCanvas=document.getElementById('canvas');
   let myContext=myCanvas.getContext('2d');
   var mousedown = false
   var bool = false
   var bool2 = 1
   var x
   var y
   var x1
   var y1
   var x2
   var y2
   var thick = 1

function line() {
   
if (bool == false) {
   x1 = parseInt(event.clientX) - 9;
   y1 = parseInt(event.clientY) - 177;
   bool = true
} else if (bool == true) {
    x2 = parseInt(event.clientX) - 9
    y2 = parseInt(event.clientY) - 177
    bool = false
    bool2 = 2
}

   console.log(x1, y1, x2, y2, thick, bool, bool2)

   myContext.beginPath();
   myContext.lineWidth = thick;   
   myContext.moveTo(x1,y1);
   myContext.lineTo(x2,y2);
   myContext.stroke();
}


document.addEventListener('mousemove', mouseCoords);
document.addEventListener('mousedown', mouseDown);
document.addEventListener('mouseup', mouseUp);

function mouseCoords() {
    x = parseInt(event.clientX) - 9;
    y = parseInt(event.clientY) - 177;

    if (x >= 1001 || x <= -1) {
        x = 0
        y = 0
    } 
    if (y >= 601 || y <= -1){
        y = 0
        x = 0
    }

    document.getElementById('coords').innerHTML = x + ', ' + y

}

function mouseDown(){
   mousedown = true
}

function mouseUp(){
   mousedown = false

}
 


function draw() {
    if (mousedown == true) {
        setInterval(line, 50)
    }
}

</script>


</body>
</html>
